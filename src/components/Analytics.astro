---
export interface Props {
  googleTagId: String;
  goSquaredTagId: String;
}

const { googleTagId, goSquaredTagId } = Astro.props;
---

<Fragment>
  <!-- Google tag (gtag.js) -->
  <script async src=`https://www.googletagmanager.com/gtag/js?id=${googleTagId}`
  ></script>
  <script define:vars={{ googleTagId: googleTagId }}>
    window.dataLayer = window.dataLayer || [];
    function gtag() {
      dataLayer.push(arguments);
    }
    gtag("js", new Date());

    gtag("config", googleTagId);
  </script>

  <script define:vars={{ goSquaredTagId: goSquaredTagId }}>
    !(function (g, s, q, r, d) {
      r = g[r] =
        g[r] ||
        function () {
          (r.q = r.q || []).push(arguments);
        };
      d = s.createElement(q);
      q = s.getElementsByTagName(q)[0];
      d.src = "//d1l6p2sc9645hc.cloudfront.net/tracker.js";
      q.parentNode.insertBefore(d, q);
    })(window, document, "script", "_gs");

    _gs(`${goSquaredTagId}`);
  </script>
</Fragment>
